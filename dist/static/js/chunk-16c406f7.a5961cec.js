(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16c406f7"],{"0917":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"anquan"},[o("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","left-arrow":""},on:{"click-left":t.back}}),o("div",{staticClass:"zz"}),o("div",{staticClass:"xg"},[o("van-cell",{attrs:{title:"修改密码"},on:{click:t.isp}}),o("van-cell",{attrs:{title:"注销账号"},on:{click:t.destroyAccount}})],1),o("van-popup",{attrs:{closeable:"","close-icon":"close",round:"",position:"bottom"},model:{value:t.isopen,callback:function(e){t.isopen=e},expression:"isopen"}},[o("div",{staticClass:"zchz"},[o("div",{staticClass:"zc"},[t._v("修改密码")]),o("div",{staticClass:"form-box"},[o("van-field",{attrs:{"left-icon":"newspaper-o",type:t.istype?"text":"password",label:"新密码",placeholder:"输入密码(6~16位)","right-icon":t.istype?"eye-o":"closed-eye"},on:{"click-right-icon":t.toggle},model:{value:t.userRegisterInfo.passwords,callback:function(e){t.$set(t.userRegisterInfo,"passwords",e)},expression:"userRegisterInfo.passwords"}}),o("van-field",{attrs:{"left-icon":"newspaper-o",type:t.istype?"text":"password",label:"旧密码",placeholder:"输入密码(6~16位)","right-icon":t.istype?"eye-o":"closed-eye"},on:{"click-right-icon":t.toggle},model:{value:t.userRegisterInfo.password,callback:function(e){t.$set(t.userRegisterInfo,"password",e)},expression:"userRegisterInfo.password"}}),o("div",{staticClass:"btn-box"},[o("van-button",{attrs:{round:"",block:"",color:"linear-gradient(to bottom, skyblue 0%, pink 100%)"},on:{click:t.updatePassword}},[t._v("确 定")])],1)],1)])]),o("div",{staticClass:"btn-box"},[o("van-button",{attrs:{round:"",block:"",color:"linear-gradient(to bottom, skyblue 0%, pink 100%)"},on:{click:t.logout}},[t._v("退出登录")])],1)],1)},n=[],a=o("9a81"),i={name:"Anquan",data:function(){return{userRegisterInfo:{password:"",passwords:""},isopen:!1,istype:!1}},created:function(){},methods:{back:function(){this.$router.go(-1)},isp:function(){this.isopen=!0},toggle:function(){this.istype=!this.istype},updatePassword:function(){var t=this,e=localStorage.getItem("tokenString");if(!e)return this.$router.push({name:"Login"});var o={passwords:{value:this.userRegisterInfo.passwords,reg:/^[A-Za-z]\w{5,15}$/,error:"密码支持字母数字_组合首字符为字母"},password:{value:this.userRegisterInfo.password,reg:/^[A-Za-z]\w{5,15}$/,error:"密码支持字母数字_组合首字符为字母"}};a["a"].validForm(o)&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:this.baseUrl+"/updatePassword",data:{appkey:this.appkey,tokenString:e,password:this.userRegisterInfo.passwords,oldPassword:this.userRegisterInfo.password}}).then((function(e){if(t.$toast.clear(),"E001"==e.data.code)for(var o in t.isopen=!1,t.userRegisterInfo)t.userRegisterInfo[o]="";else t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3})})).catch((function(e){t.$toast.clear()})))},logout:function(){var t=this,e=localStorage.getItem("tokenString");if(!e)return this.$router.push({name:"Login"});this.axios({method:"POST",url:this.baseUrl+"/logout",data:{appkey:this.appkey,tokenString:e}}),this.$dialog.confirm({title:"退出账号",message:"是否确定退出账号"}).then((function(){t.$toast({message:"退出登录成功",forbidClick:!0,duration:700}),setTimeout((function(){t.$router.push({name:"Login"}),t.$toast.clear()}),700)})).catch((function(e){t.$toast.clear()}))},destroyAccount:function(){var t=this,e=localStorage.getItem("tokenString");if(!e)return this.$router.push({name:"Login"});this.axios({method:"POST",url:this.baseUrl+"/destroyAccount",data:{appkey:this.appkey,tokenString:e}}),this.$dialog.confirm({title:"注销账号",message:"是否确定注销账号"}).then((function(){t.$toast({message:"注销成功",forbidClick:!0,duration:700}),setTimeout((function(){t.$router.push({name:"Login"}),t.$toast.clear()}),700)})).catch((function(e){t.$toast.clear()}))}}},r=i,c=(o("f5b3"),o("2877")),l=Object(c["a"])(r,s,n,!1,null,"6692f408",null);e["default"]=l.exports},"5e23":function(t,e,o){},"9a81":function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));o("68ef"),o("a71a"),o("9d70"),o("3743"),o("4d75"),o("e3b3"),o("bc1b"),o("1175"),o("4cf9"),o("2fcb");var s=o("2241");function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var o=0;o<e.length;o++){var s=e[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,e,o){return e&&a(t.prototype,e),o&&a(t,o),t}var r=function(){function t(){n(this,t)}return i(t,[{key:"validForm",value:function(t){for(var e in t)if(!t[e].reg.test(t[e].value))return s["a"].alert({message:t[e].error}).then((function(){})),!1;return!0}},{key:"danchu",value:function(){var t=this;return s["a"].confirm({title:"退出登录",message:"是否要退出登录"}).then((function(){return t.$router.push({name:"Login"})})).catch((function(){})),!0}}]),t}(),c=new r},f5b3:function(t,e,o){"use strict";o("5e23")}}]);
//# sourceMappingURL=chunk-16c406f7.a5961cec.js.map